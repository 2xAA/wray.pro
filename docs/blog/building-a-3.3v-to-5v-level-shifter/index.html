<!DOCTYPE HTML><html lang=en><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><link rel=apple-touch-icon sizes=57x57 href=/assets/favicon/apple-touch-icon-57x57.png><link rel=apple-touch-icon sizes=60x60 href=/assets/favicon/apple-touch-icon-60x60.png><link rel=apple-touch-icon sizes=72x72 href=/assets/favicon/apple-touch-icon-72x72.png><link rel=apple-touch-icon sizes=76x76 href=/assets/favicon/apple-touch-icon-76x76.png><link rel=apple-touch-icon sizes=114x114 href=/assets/favicon/apple-touch-icon-114x114.png><link rel=apple-touch-icon sizes=120x120 href=/assets/favicon/apple-touch-icon-120x120.png><link rel=apple-touch-icon sizes=144x144 href=/assets/favicon/apple-touch-icon-144x144.png><link rel=apple-touch-icon sizes=152x152 href=/assets/favicon/apple-touch-icon-152x152.png><link rel=apple-touch-icon sizes=180x180 href=/assets/favicon/apple-touch-icon-180x180.png><link rel=icon type=image/png href=/assets/favicon/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/assets/favicon/favicon-194x194.png sizes=194x194><link rel=icon type=image/png href=/assets/favicon/favicon-96x96.png sizes=96x96><link rel=icon type=image/png href=/assets/favicon/android-chrome-192x192.png sizes=192x192><link rel=icon type=image/png href=/assets/favicon/favicon-16x16.png sizes=16x16><link rel=manifest href=/assets/favicon/manifest.json><link rel='shortcut icon' href=/assets/favicon/favicon.ico><meta name=msapplication-TileColor content=#da532c><meta name=msapplication-TileImage content=/assets/favicon/mstile-144x144.png><meta name=msapplication-config content=/assets/favicon/browserconfig.xml><meta name=theme-color content=#ffffff><meta name=description content='The polygamous relationship of music, programming and visual arts.'><link rel=alternate type=application/rss+xml title=wray.pro/rss/ href=/rss/index.xml><link rel=stylesheet href=/assets/css/fonts.css><link rel=stylesheet href=/assets/css/pure-min.css><link rel=stylesheet href=/assets/css/grids-responsive-min.css><link rel=stylesheet href=/assets/css/style.css><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css><script src=/assets/js/lastfm.api.md5.min.js></script><script src=/assets/js/lastfm.api.min.js></script><script src=/assets/js/lastfm.api.cache.min.js></script><title>Building a 3.3V to 5V logic level shifter - wray.pro</title><meta name=description content=''><script type=text/javascript>var disqus_developer = 1;</script></head><body><header><div class=wrap><div class=pure-g><div class=pure-u-1-1><h1><a href=/blog/ >wray.pro/blog</a></h1></div><div class=pure-u-1-1></div></div><div class='pure-g links'><div class=pure-u-1-1><ul><li><a href=/ >Portfolio</a></li><li>Blog</li><li><a href=/about/ >About</a></li></ul></div></div></div></header><section class=blog><div class=wrap><div class=pure-g><div class=pure-u-1-1><h1>Building a 3.3V to 5V logic level shifter</h1></div><div class=pure-u-1-1><article class=blog-item><p><small><em>Or how to sync nanoloop to the OP-1</em></small></p><h2 id=the-problem>The problem</h2><p>The OP-1 is an all-in-one music workstation designed and built by teenage engineering (TE), a very cool professional audio company based in Sweden (hire me TE!). Although awesome, the OP-1 has always had a, in my opinion, major flaw - its connectivity. The original OP-1 firmware only had support for MIDI clock beat match and MIDI clock output over USB, leaving much to be desired for a live setup without a laptop. <small>(for a long time their documentation read that the OP-1 only responded to MTC, which is <strong>NOT</strong> MIDI Clock, I emailed them about this and this was an error in their documentation, it was not resolved)</small></p><p>TE brought out the OP-Lab to try and solve this, however after the initial purchase of the OP-1 the price of the OP-Lab is just far too expensive. I can see why it&#39;s expensive, I just don&#39;t want to pay for something that I can probably build myself, far shonkier ;P</p><p>In 2016, TE released a firmware update to include external sync support for its Pocket Operator series (woo!). This update allows the OP-1 to output an analog click track on the left channel of the stereo output, the audio outputs on the right channel. Not only does the update allow for Pocket Operator syncronisation, but 1/16 (Volca) sync timing is supported too which means nanoloop (2.7.6+, 1.7.2+ &amp; mono) and LSDj (4.8.0+) syncronisation is possible!</p><p><strong>WAIT A MINUTE.</strong></p><p>The OP-1 outputs its click track at 3.3V. oh no. We need 5V for the Game Boy to detect that click track.</p><p>I guess we could use a headphone amp, but that doesn&#39;t look cool (plus it&#39;s potentially unsafe).</p><h2 id=the-solution>The solution</h2><p>Ideally I wanted to find a passive solution for this, but that&#39;s impossible for level conversion.</p><p>I browsed for level shifting solutions, most of them came up with needing the 3.3V and GND from the signal source, which wasn&#39;t possible with the OP-1; we can only get ground out of it without defacing the machine.</p><p>Eventually I found a solution using a MOSFET which would read any 3.3V signal and convert it into 5V, unfortunately this inverted the signal. So I needed to flip the signal back around again, a simple NPN NOT gate.</p><h2 id=schematics>Schematics</h2><p>CHK DIS OUT:</p><p><img src=/assets/blog/logic_convertor_schem.png alt='Circuit diagram for the logic convertor'> <small>I obviously can&#39;t use fritzing</small></p><h2 id=parting-words>Parting words</h2><p>I hope this helps out somebody, I&#39;m going to be making this into a small project box soon with a 9V battery inside. Will use a 5V regulator to step down the 9V into 5V.</p><p>Check out my Instagram video with this in action:</p><p></p><blockquote class=instagram-media data-instgrm-version=7 style='background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:658px; padding:0; width:99.375%; width:-webkit-calc(100% - 2px); width:calc(100% - 2px);'><div style=padding:8px;><div style='background:#F8F8F8; line-height:0; margin-top:40px; padding:28.1944444444% 0; text-align:center; width:100%;'><div style='background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURczMzPf399fX1+bm5mzY9AMAAADiSURBVDjLvZXbEsMgCES5/P8/t9FuRVCRmU73JWlzosgSIIZURCjo/ad+EQJJB4Hv8BFt+IDpQoCx1wjOSBFhh2XssxEIYn3ulI/6MNReE07UIWJEv8UEOWDS88LY97kqyTliJKKtuYBbruAyVh5wOHiXmpi5we58Ek028czwyuQdLKPG1Bkb4NnM+VeAnfHqn1k4+GPT6uGQcvu2h2OVuIf/gWUFyy8OWEpdyZSa3aVCqpVoVvzZZ2VTnn2wU8qzVjDDetO90GSy9mVLqtgYSy231MxrY6I2gGqjrTY0L8fxCxfCBbhWrsYYAAAAAElFTkSuQmCC); display:block; height:44px; margin:0 auto -44px; position:relative; top:-22px; width:44px;'></div></div><p style='color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; line-height:17px; margin-bottom:0; margin-top:8px; overflow:hidden; padding:8px 0 7px; text-align:center; text-overflow:ellipsis; white-space:nowrap;'><a href=https://www.instagram.com/p/BPIX46PBHzS/ style='color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px; text-decoration:none;' target=_blank rel=noopener>A video posted by Sam (@2xaa)</a> on <time style='font-family:Arial,sans-serif; font-size:14px; line-height:17px;' datetime=2017-01-11T16:29:50+00:00>Jan 11, 2017 at 8:29am PST</time></p></div></blockquote><script async defer src=//platform.instagram.com/en_US/embeds.js></script><p></p><div class=topics>Topics:&nbsp;<div class=topic><a href=/blog/topics/cmos>CMOS</a></div><div class=topic><a href=/blog/topics/op-1>OP-1</a></div><div class=topic><a href=/blog/topics/electronics>electronics</a></div></div></article><div class='pure-u-1-1 comments'><div id=disqus_thread></div></div></div></div></div></section><footer><div class=wrap><div class=pure-g><div class='pure-u-1-5 social-links'><a href=//twitter.com/_2xAA target=_blank class=is-not-underlined><i class='fa fa-twitter fa-lg' title=Twitter></i> </a><a href=//instagram.com/2xAA target=_blank class=is-not-underlined><i class='fa fa-instagram fa-lg' title=Instagram></i></a></div><div class=pure-u-3-5><aside class=lfm><a href=http://last.fm/user/theonly2xAA target=_blank><i class='fa fa-lastfm fa-lg' title=last.fm></i>&nbsp;</a></aside></div><div class=pure-u-1-5 title='My name'>/ Sam Wray</div></div></div></footer><script src=/assets/js/lastfm.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/vanilla-lazyload/10.16.2/lazyload.iife.min.js></script><script>new LazyLoad();</script><script>var disqus_config = function() {
        this.page.url = 'http://wray.pro/blog/building-a-3.3v-to-5v-level-shifter';
        this.page.identifier = 'building_a_3_3v_to_5v_logic_level_shifter';
        this.page.title = 'Building a 3.3V to 5V logic level shifter';
      };

      (function(d) {
        var s = d.createElement('script');
        s.src = '//wraypro.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
      })(document);</script></body></html>